{"ast":null,"code":"import _toConsumableArray from\"/Users/kor/rmetest/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/Users/kor/rmetest/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import{v4 as uuidv4}from\"uuid\";import firebase from'../Base';import NoRecipesSelected from\"./NoRecipesSelected\";import RecipeList from\"./RecipeList\";import RecipeEdit from\"./RecipeEdit\";import'bootstrap/dist/css/bootstrap.min.css';import{Row,Col}from'react-bootstrap';import\"../css/app.css\";//the only css import that connects different css components\nimport{gsap}from'gsap';//used to propagate state to all levels of code. no need to transfer data in a stair like pattern\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var RecipeContext=/*#__PURE__*/React.createContext();var LOCAL_STORAGE_KEY='cookingWithReact.App[recipes]';//just a string name for your local key\nexport default function App(){var _useState=useState(sampleRecipes),_useState2=_slicedToArray(_useState,2),recipes=_useState2[0],setRecipes=_useState2[1];//state for recipes\nvar _useState3=useState(),_useState4=_slicedToArray(_useState3,2),selectedRecipeId=_useState4[0],setSelectedRecipeId=_useState4[1];//state for selected item to propagate to edit page\nvar selectedRecipe=recipes.find(function(recipe){return recipe.id===selectedRecipeId;});//id of recipe that is selected or if there is one selected\nvar timeline=gsap.timeline();var recipeContextValue={//context value that will be passed on diff. levels of nested components\nhandleRecipeAdd:handleRecipeAdd,handleRecipeDelete:handleRecipeDelete,handleRecipeSelect:handleRecipeSelect,handleRecipeChange:handleRecipeChange};useEffect(function(){firebase.database().ref('recipes')// Sync the data.\n.on('value',function(snapshot){if(snapshot.val())setRecipes(snapshot.val());});timeline.from('.background',{y:800,opacity:0,ease:'back.out(1.2)',duration:1.2,delay:1});},[]);useEffect(function(){firebase.database().ref('recipes').set(recipes);firebase.database().ref('recipes').update(recipes);},[recipes]);//persisting our local storage by using useEffect\nuseEffect(function(){var recipeKeyFromLocalStorage=localStorage.getItem(LOCAL_STORAGE_KEY);recipeKeyFromLocalStorage===null?alert(\"no data in local storage\"):setRecipes(JSON.parse(recipeKeyFromLocalStorage));},[]);useEffect(function(){localStorage.setItem(LOCAL_STORAGE_KEY,JSON.stringify(recipes));},[recipes]);function handleRecipeSelect(id){setSelectedRecipeId(id);}function handleRecipeChange(id,recipe){var newRecipes=_toConsumableArray(recipes);var index=newRecipes.findIndex(function(r){return r.id===id;});newRecipes[index]=recipe;setRecipes(newRecipes);}function handleRecipeAdd(){var newRecipe={id:uuidv4(),name:\"\",cookTime:\"\",servings:1,instructions:\"\",ingredients:[{id:uuidv4(),name:\"\",amount:\"\"}],authors:[{id:uuidv4(),name:\"\"}]};setSelectedRecipeId(newRecipe.id);setRecipes([].concat(_toConsumableArray(recipes),[newRecipe]));}function handleRecipeDelete(id){if(selectedRecipeId!=null&&selectedRecipeId===id){setSelectedRecipeId(null);}setRecipes(recipes.filter(function(recipe){return recipe.id!==id;}));}return/*#__PURE__*/_jsx(\"div\",{className:\"background\",children:/*#__PURE__*/_jsx(RecipeContext.Provider,{value:recipeContextValue,children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(RecipeList,{recipes:recipes})}),/*#__PURE__*/_jsx(Col,{className:\"col\",children:selectedRecipe?selectedRecipe&&/*#__PURE__*/_jsx(RecipeEdit,{recipe:selectedRecipe}):/*#__PURE__*/_jsx(NoRecipesSelected,{})})]})})});}var sampleRecipes=[{id:uuidv4(),name:\"Plain Chiken\",cookTime:\"1:45\",servings:\"3\",instructions:\"1.Put salt on chicken \\n 2.Put chicken inside the oven \\n3.Garnish with greens and serve\",ingredients:[{id:uuidv4(),name:\"Chicken\",amount:\"2 pounds\"},{id:uuidv4(),name:\"Salt\",amount:\"1 tsp\"}],authors:[{id:uuidv4(),name:\"Chef Robert\"}]},{id:uuidv4(),name:\"Pork Chop\",cookTime:\"2:45\",servings:\"2\",instructions:\"1.Put salt on pork \\n 2.Put put inside the oven \\n 3.Garnish with greens and serve\",ingredients:[{id:uuidv4(),name:\"Pork\",amount:\"3 pounds\"},{id:uuidv4(),name:\"Paprika\",amount:\"1 tsp\"}],authors:[{id:uuidv4(),name:\"Chef John\"}]}];","map":{"version":3,"sources":["/Users/kor/rmetest/src/components/App.js"],"names":["React","useState","useEffect","v4","uuidv4","firebase","NoRecipesSelected","RecipeList","RecipeEdit","Row","Col","gsap","RecipeContext","createContext","LOCAL_STORAGE_KEY","App","sampleRecipes","recipes","setRecipes","selectedRecipeId","setSelectedRecipeId","selectedRecipe","find","recipe","id","timeline","recipeContextValue","handleRecipeAdd","handleRecipeDelete","handleRecipeSelect","handleRecipeChange","database","ref","on","snapshot","val","from","y","opacity","ease","duration","delay","set","update","recipeKeyFromLocalStorage","localStorage","getItem","alert","JSON","parse","setItem","stringify","newRecipes","index","findIndex","r","newRecipe","name","cookTime","servings","instructions","ingredients","amount","authors","filter"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport firebase from '../Base';\nimport NoRecipesSelected from \"./NoRecipesSelected\";\nimport RecipeList from \"./RecipeList\";\nimport RecipeEdit from \"./RecipeEdit\";\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport {Row,Col} from 'react-bootstrap';\nimport \"../css/app.css\"; //the only css import that connects different css components\nimport {gsap} from 'gsap';\n\n\n\n//used to propagate state to all levels of code. no need to transfer data in a stair like pattern\nexport const RecipeContext = React.createContext();\nconst LOCAL_STORAGE_KEY = 'cookingWithReact.App[recipes]';//just a string name for your local key\n\nexport default function App() {\n  const [recipes, setRecipes] = useState(sampleRecipes);//state for recipes\n  const [selectedRecipeId, setSelectedRecipeId] = useState();//state for selected item to propagate to edit page\n  const selectedRecipe = recipes.find(recipe=>recipe.id === selectedRecipeId); //id of recipe that is selected or if there is one selected\n  const timeline=gsap.timeline();\n  \n  \n \n  const recipeContextValue ={//context value that will be passed on diff. levels of nested components\n    handleRecipeAdd,\n    handleRecipeDelete,\n    handleRecipeSelect,\n    handleRecipeChange,\n    \n  };\n\n  useEffect(()=>{\n    firebase.database().ref('recipes')\n        // Sync the data.\n        .on('value', snapshot => {\n            if (snapshot.val())\n                setRecipes(snapshot.val());\n        });\n        timeline.from('.background',{y:800,opacity:0,ease:'back.out(1.2)',duration:1.2,delay:1});\n  },[]);\n\n  useEffect(() => {\n    firebase.database().ref('recipes').set(recipes)\n    firebase.database().ref('recipes').update(recipes)\n }, [recipes])\n  \n  //persisting our local storage by using useEffect\n\n  useEffect(()=>{\n    const recipeKeyFromLocalStorage =  localStorage.getItem(LOCAL_STORAGE_KEY);\n    recipeKeyFromLocalStorage===null?alert(\"no data in local storage\"):setRecipes(JSON.parse(recipeKeyFromLocalStorage));\n  },[]);\n\n  useEffect(()=>{\n    localStorage.setItem(LOCAL_STORAGE_KEY, JSON.stringify(recipes));\n  },[recipes]);\n\n  \n\n  function handleRecipeSelect(id){\n    setSelectedRecipeId(id);\n    }\n\n  function handleRecipeChange(id,recipe){\n    const newRecipes = [...recipes];\n    const index = newRecipes.findIndex(r=>r.id === id);\n    newRecipes[index] = recipe;\n    setRecipes(newRecipes);\n  }\n  \n\n  \n  function handleRecipeAdd() {\n    const newRecipe = {\n      id: uuidv4(),\n      name: \"\",\n      cookTime: \"\",\n      servings: 1,\n      instructions: \"\",\n      ingredients: [\n        {\n          id: uuidv4(),\n          name: \"\",\n          amount: \"\",\n        },\n      ],\n      authors:[\n        {\n          id: uuidv4(),\n          name:\"\",\n        }\n      ]\n    };\n    setSelectedRecipeId(newRecipe.id);\n    setRecipes([...recipes, newRecipe]);\n  }\n  function handleRecipeDelete(id){\n    if(selectedRecipeId != null && selectedRecipeId === id){\n      setSelectedRecipeId(null);\n    }\n\n    setRecipes(recipes.filter(recipe=>recipe.id!==id))\n  }\n  \n\n  return (\n    <div className=\"background\" >\n  <RecipeContext.Provider value={recipeContextValue}>\n      <Row>\n      <Col>\n\n      <RecipeList recipes={recipes} /> \n      </Col>\n      <Col className=\"col\">\n     {selectedRecipe?selectedRecipe && <RecipeEdit recipe = {selectedRecipe}/>:<NoRecipesSelected/>}\n\n      </Col>\n     \n      </Row>\n     \n      \n  </RecipeContext.Provider>\n  </div>\n  )\n}\n\nconst sampleRecipes = [\n  {\n    id: uuidv4(),\n    name: \"Plain Chiken\",\n    cookTime: \"1:45\",\n    servings: \"3\",\n    instructions: `1.Put salt on chicken \\n 2.Put chicken inside the oven \\n3.Garnish with greens and serve`,\n    ingredients: [\n      {\n        id: uuidv4(),\n        name: \"Chicken\",\n        amount: \"2 pounds\",\n      },\n      {\n        id: uuidv4(),\n        name: \"Salt\",\n        amount: \"1 tsp\",\n      },\n    ],\n    authors: [\n      {\n        id: uuidv4(),\n        name: \"Chef Robert\",\n        \n      },\n      \n    ],\n  },\n  {\n    id: uuidv4(),\n    name: \"Pork Chop\",\n    cookTime: \"2:45\",\n    servings: \"2\",\n    instructions:\n      \"1.Put salt on pork \\n 2.Put put inside the oven \\n 3.Garnish with greens and serve\",\n    ingredients: [\n      {\n        id: uuidv4(),\n        name: \"Pork\",\n        amount: \"3 pounds\",\n      },\n      {\n        id: uuidv4(),\n        name: \"Paprika\",\n        amount: \"1 tsp\",\n      },\n    ],\n    authors: [\n      {\n        id: uuidv4(),\n        name: \"Chef John\",\n        \n      },\n      \n    ],\n  },\n];\n\n"]},"metadata":{},"sourceType":"module"}