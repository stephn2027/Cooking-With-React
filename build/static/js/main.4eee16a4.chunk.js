(this.webpackJsonprmetest=this.webpackJsonprmetest||[]).push([[0],{36:function(e,t,n){},40:function(e,t,n){"use strict";n.r(t);var c=n(4),i=n.n(c),a=n(23),r=n.n(a),s=n(11),l=n(12),d=n(44),o=n(22);o.a.initializeApp({apiKey:"AIzaSyDTU7LfzwEq9z1mS2mcVz7yd7wh8PAbccA",authDomain:"stephuy-react-recipe-app.firebaseapp.com",projectId:"stephuy-react-recipe-app",storageBucket:"stephuy-react-recipe-app.appspot.com",messagingSenderId:"997336713673",appId:"1:997336713673:web:e0302a4eacd16afa920018",measurementId:"G-0ETLC9BYDG"});var u=o.a,j=n(2);function b(){return Object(j.jsx)("div",{className:"no-recipe-display",children:Object(j.jsx)("h4",{children:"No recipe selected."})})}var h=n(7);function p(e){var t=e.name,n=e.amount;return Object(j.jsxs)(i.a.Fragment,{children:[Object(j.jsx)("span",{children:t}),Object(j.jsx)("span",{children:n})]})}function m(e){var t=e.ingredients.map((function(e){return Object(j.jsx)(p,Object(h.a)({},e),e.id)}));return Object(j.jsx)("div",{className:"ingredient-grid",children:t})}function O(e){var t=e.name;return Object(j.jsx)("div",{className:"author-name",children:Object(j.jsx)("span",{children:t})})}function x(e){var t=e.authors.map((function(e){return Object(j.jsx)(O,Object(h.a)({},e),e.id)}));return Object(j.jsx)("div",{className:"author-list",children:t})}function v(e){var t=Object(c.useContext)(w),n=t.handleRecipeDelete,i=t.handleRecipeSelect,a=e.id,r=e.name,s=e.cookTime,l=e.servings,d=e.instructions,o=e.ingredients,u=e.authors;return Object(j.jsxs)("div",{className:"recipe",children:[Object(j.jsxs)("div",{className:"recipe__header",children:[Object(j.jsx)("h3",{className:"recipe__title",children:r}),Object(j.jsxs)("div",{className:"recipe-buttons",children:[Object(j.jsx)("button",{className:"btn btn--primary mr-1",onClick:function(){return i(a)},children:"Edit"}),Object(j.jsx)("button",{className:"btn btn--danger",onClick:function(){return n(a)},children:"Delete"})]})]}),Object(j.jsxs)("div",{className:"recipe__row",children:[Object(j.jsx)("span",{className:"recipe__label",children:"Cook Time: "}),Object(j.jsx)("span",{className:"recipe__value",children:s})]}),Object(j.jsxs)("div",{className:"recipe__row",children:[Object(j.jsx)("span",{className:"recipe__label",children:"Servings: "}),Object(j.jsx)("span",{className:"recipe__value",children:l})]}),Object(j.jsxs)("div",{className:"recipe__row",children:[Object(j.jsx)("span",{className:"recipe__label",children:"Instructions: "}),Object(j.jsx)("div",{className:"recipe__value recipe__value--instructions recipe__value--indented",children:d})]}),Object(j.jsxs)("div",{className:"recipe__row",children:[Object(j.jsx)("span",{className:"recipe__label",children:"Ingredients: "}),Object(j.jsx)("div",{className:"recipe__value recipe__value--indented",children:Object(j.jsx)(m,{ingredients:o})})]}),Object(j.jsxs)("div",{className:"recipe__row",children:[Object(j.jsx)("span",{className:"recipe__label",children:"Author(s): "}),Object(j.jsx)("div",{className:"recipe__value recipe__value--indented",children:Object(j.jsx)(x,{authors:u})})]})]})}function f(e){var t=e.searchQuery,n=e.setSearchQuery;return Object(j.jsxs)("form",{action:"/",method:"get",className:"recipe-list__search-bar-form",onSubmit:function(e){return e.preventDefault()},children:[Object(j.jsx)("label",{htmlFor:"recipe-search",children:Object(j.jsx)("span",{className:"visually-hidden",children:"Search for recipes"})}),Object(j.jsx)("input",{type:"text",value:t,id:"recipe-search",placeholder:"\ud83d\udd0d Search for recipes",name:"search",onChange:function(e){return n(e.target.value)},className:"recipe-list__search-bar"}),Object(j.jsx)("button",{type:"submit",className:"btn btn--primary",children:"Search"})]})}function g(e){var t=e.recipes,n=Object(c.useContext)(w).handleRecipeAdd,a=window.location.search,r=new URLSearchParams(a).get("search"),s=Object(c.useState)(r||""),d=Object(l.a)(s,2),o=d[0],u=d[1],b=function(e,t){if(!t)return e;return e.filter((function(e){return e.name.toLowerCase().includes(t)}))}(t,o);return Object(j.jsx)(i.a.Fragment,{children:Object(j.jsxs)("div",{className:"recipe-list",children:[Object(j.jsx)(f,{setSearchQuery:u,searchQuery:o}),Object(j.jsx)("div",{children:b.map((function(e){return Object(j.jsx)(v,Object(h.a)({},e),e.id)}))}),Object(j.jsx)("div",{className:"recipe-list__add-recipe-btn-container",children:Object(j.jsx)("button",{className:"btn btn--primary",onClick:n,children:"Add a recipe"})})]})})}function _(e){var t=e.ingredient,n=e.handleIngredientChange,c=e.handleIngredientsDelete;function a(e){n(t.id,Object(h.a)(Object(h.a)({},t),e))}return Object(j.jsxs)(i.a.Fragment,{children:[Object(j.jsx)("input",{type:"text",className:"recipe-edit__input",value:t.name,onChange:function(e){return a({name:e.target.value})}}),Object(j.jsx)("input",{type:"text",className:"recipe-edit__input",value:t.amount,onChange:function(e){return a({amount:e.target.value})}}),Object(j.jsx)("button",{className:"btn btn--danger",onClick:function(){return c(t.id)},children:"\xd7"})]})}function N(e){var t=e.handleAuthorChange,n=e.handleAuthorDelete,c=e.author;return Object(j.jsxs)(i.a.Fragment,{children:[Object(j.jsx)("input",{type:"text",className:"recipe-edit__input",value:c.name,onChange:function(e){return n={name:e.target.value},void t(c.id,Object(h.a)(Object(h.a)({},c),n));var n}}),Object(j.jsx)("button",{type:"submit",className:"btn btn--danger",onClick:function(e){return n(c.id)},children:" \xd7"})]})}function y(e){var t=e.recipe,n=(e.info,Object(c.useContext)(w)),i=n.handleRecipeChange,a=n.handleRecipeSelect,r=document.querySelector("#root > div > div > div > div.recipe-edit");function l(e){i(t.id,Object(h.a)(Object(h.a)({},t),e))}function o(e,n){var c=Object(s.a)(t.ingredients),i=c.findIndex((function(t){return t.id===e}));c[i]=n,l({ingredients:c})}function u(e,n){var c=Object(s.a)(t.authors),i=c.findIndex((function(t){return t.id===e}));c[i]=n,l({authors:c})}function b(e){l({ingredients:t.ingredients.filter((function(t){return t.id!==e}))})}function p(e){l({authors:t.authors.filter((function(t){return t.id!==e}))})}return console.log(r),Object(j.jsxs)("div",{className:"recipe-edit",children:[Object(j.jsx)("div",{className:"recipe-edit__remove-button-container",children:Object(j.jsx)("button",{className:"btn recipe-edit__remove-button",onClick:function(){return a(void 0)},children:"\xd7"})}),Object(j.jsxs)("div",{className:"recipe-edit__details-grid",children:[Object(j.jsx)("label",{className:"recipe-edit__label",htmlFor:"name",children:"Name"}),Object(j.jsx)("input",{type:"text",name:"name",id:"name",className:"recipe-edit__input",value:t.name,onChange:function(e){return l({name:e.target.value})}}),Object(j.jsx)("label",{htmlFor:"cookTime",className:"recipe-edit__label",children:"Cooking time"}),Object(j.jsx)("input",{type:"text",name:"cookTime",id:"cookTime",className:"recipe-edit__input",value:t.cookTime,onChange:function(e){return l({cookTime:e.target.value})}}),Object(j.jsx)("label",{htmlFor:"servings",className:"recipe-edit__label",children:"Servings"}),Object(j.jsx)("input",{type:"number",name:"servings",id:"servings",min:"1",className:"recipe-edit__input",value:t.servings,onChange:function(e){return l({servings:Number(e.target.value)||""})}}),Object(j.jsx)("label",{htmlFor:"instructions",className:"recipe-edit__label",children:"Instructions"}),Object(j.jsx)("textarea",{type:"text",name:"instructions",id:"instructions",className:"recipe-edit__input",value:t.instructions,onChange:function(e){return l({instructions:e.target.value})}})]}),Object(j.jsx)("br",{}),Object(j.jsx)("label",{className:"recipe-edit__label",children:"Ingredients"}),Object(j.jsxs)("div",{className:"recipe-edit__ingredient-grid",children:[Object(j.jsx)("div",{children:"Name"}),Object(j.jsx)("div",{children:"Amount"}),Object(j.jsx)("div",{}),t.ingredients.map((function(e){return Object(j.jsx)(_,{ingredient:e,handleIngredientChange:o,handleIngredientsDelete:b},e.id)}))]}),Object(j.jsx)("div",{className:"recipe-edit__add-ingredients-btn-container",children:Object(j.jsx)("button",{className:"btn btn--primary",onClick:function(){return function(){var e={id:Object(d.a)(),name:"",amount:""};l({ingredients:[].concat(Object(s.a)(t.ingredients),[e])})}()},children:"Add ingredients"})}),Object(j.jsx)("br",{}),Object(j.jsx)("label",{className:"recipe-edit__label",children:"Author(s)"}),Object(j.jsxs)("div",{className:"recipe-edit__author-grid",children:[Object(j.jsx)("div",{children:"Name"}),Object(j.jsx)("div",{}),t.authors.map((function(e){return Object(j.jsx)(N,{author:e,handleAuthorChange:u,handleAuthorDelete:p},e.id)}))]}),Object(j.jsx)("div",{className:"recipe-edit__add-ingredients-btn-container",children:Object(j.jsx)("button",{className:"btn btn--primary",onClick:function(){return function(){var e={id:Object(d.a)(),name:""};l({authors:[].concat(Object(s.a)(t.authors),[e])})}()},children:"Add Author"})})]})}n(35);var k=n(42),C=n(43),S=(n(36),n(19)),w=i.a.createContext(),I="cookingWithReact.App[recipes]";function A(){var e=Object(c.useState)(R),t=Object(l.a)(e,2),n=t[0],i=t[1],a=Object(c.useState)(),r=Object(l.a)(a,2),o=r[0],h=r[1],p=n.find((function(e){return e.id===o})),m=S.a.timeline(),O={handleRecipeAdd:function(){var e={id:Object(d.a)(),name:"",cookTime:"",servings:1,instructions:"",ingredients:[{id:Object(d.a)(),name:"",amount:""}],authors:[{id:Object(d.a)(),name:""}]};h(e.id),i([].concat(Object(s.a)(n),[e]))},handleRecipeDelete:function(e){null!=o&&o===e&&h(null);i(n.filter((function(t){return t.id!==e})))},handleRecipeSelect:function(e){h(e)},handleRecipeChange:function(e,t){var c=Object(s.a)(n),a=c.findIndex((function(t){return t.id===e}));c[a]=t,i(c)}};return Object(c.useEffect)((function(){u.database().ref("recipes").on("value",(function(e){e.val()&&i(e.val())})),m.from(".background",{y:800,opacity:0,ease:"back.out(1.2)",duration:1.2,delay:1})}),[]),Object(c.useEffect)((function(){u.database().ref("recipes").set(n),u.database().ref("recipes").update(n)}),[n]),Object(c.useEffect)((function(){var e=localStorage.getItem(I);null===e?alert("no data in local storage"):i(JSON.parse(e))}),[]),Object(c.useEffect)((function(){localStorage.setItem(I,JSON.stringify(n))}),[n]),Object(j.jsx)("div",{className:"background",children:Object(j.jsx)(w.Provider,{value:O,children:Object(j.jsxs)(k.a,{children:[Object(j.jsx)(C.a,{children:Object(j.jsx)(g,{recipes:n})}),Object(j.jsx)(C.a,{className:"col",children:p?p&&Object(j.jsx)(y,{recipe:p}):Object(j.jsx)(b,{})})]})})})}var R=[{id:Object(d.a)(),name:"Plain Chiken",cookTime:"1:45",servings:"3",instructions:"1.Put salt on chicken \n 2.Put chicken inside the oven \n3.Garnish with greens and serve",ingredients:[{id:Object(d.a)(),name:"Chicken",amount:"2 pounds"},{id:Object(d.a)(),name:"Salt",amount:"1 tsp"}],authors:[{id:Object(d.a)(),name:"Chef Robert"}]},{id:Object(d.a)(),name:"Pork Chop",cookTime:"2:45",servings:"2",instructions:"1.Put salt on pork \n 2.Put put inside the oven \n 3.Garnish with greens and serve",ingredients:[{id:Object(d.a)(),name:"Pork",amount:"3 pounds"},{id:Object(d.a)(),name:"Paprika",amount:"1 tsp"}],authors:[{id:Object(d.a)(),name:"Chef John"}]}];n(37);function P(){var e=S.a.timeline();return Object(c.useEffect)((function(){e.from(".text-wrapper",{x:700,opacity:0,duration:1,ease:"back.out(1.4)"}).from(".text-sub",{x:700,opacity:0,duration:1,ease:"back.out(1.4)"})}),[]),Object(j.jsxs)("div",{className:"header-wrapper",children:[Object(j.jsx)("div",{className:"text-wrapper",children:Object(j.jsxs)("p",{children:[Object(j.jsx)("span",{className:"dash",children:"---"}),Object(j.jsxs)("span",{className:"text-between",children:[Object(j.jsx)("i",{className:"fas fa-quote-left",style:{color:"maroon"},children:'"'}),"Your"]}),Object(j.jsx)("span",{className:"text-center",children:"Personal"}),Object(j.jsxs)("span",{className:"text-between",children:["Recipes",Object(j.jsx)("i",{className:"fas fa-quote-right",style:{color:"maroon"},children:'"'})]}),Object(j.jsx)("span",{className:"dash",children:"---"})]})}),Object(j.jsx)("div",{children:Object(j.jsx)("span",{className:"text-sub",children:"manage your collections!"})})]})}function T(){return Object(j.jsx)("div",{className:"footer-wrapper",children:Object(j.jsx)("p",{children:"\xa9 StephenUy"})})}function D(){return Object(j.jsxs)(i.a.Fragment,{children:[Object(j.jsxs)("div",{className:"wrapper",children:[Object(j.jsx)(P,{}),Object(j.jsx)("div",{className:"container",children:Object(j.jsx)(A,{})})]}),Object(j.jsx)(T,{})]})}r.a.render(Object(j.jsx)(D,{}),document.getElementById("root"))}},[[40,1,2]]]);
//# sourceMappingURL=main.4eee16a4.chunk.js.map