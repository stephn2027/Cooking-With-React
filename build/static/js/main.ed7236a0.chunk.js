(this.webpackJsonprmetest=this.webpackJsonprmetest||[]).push([[0],{30:function(e,t,n){},31:function(e,t,n){"use strict";n.r(t);var i=n(4),c=n.n(i),a=n(19),r=n.n(a),s=n(11),d=n(13),l=n(32),u=n(17);u.a.initializeApp({apiKey:"AIzaSyDTU7LfzwEq9z1mS2mcVz7yd7wh8PAbccA",authDomain:"stephuy-react-recipe-app.firebaseapp.com",projectId:"stephuy-react-recipe-app",storageBucket:"stephuy-react-recipe-app.appspot.com",messagingSenderId:"997336713673",appId:"1:997336713673:web:e0302a4eacd16afa920018",measurementId:"G-0ETLC9BYDG"});var o=u.a,j=n(9),b=n(2);function h(e){var t=e.name,n=e.amount;return Object(b.jsxs)(c.a.Fragment,{children:[Object(b.jsx)("span",{children:t}),Object(b.jsx)("span",{children:n})]})}function m(e){var t=e.ingredients.map((function(e){return Object(b.jsx)(h,Object(j.a)({},e),e.id)}));return Object(b.jsx)("div",{className:"ingredient-grid",children:t})}function p(e){var t=e.name;return Object(b.jsx)("div",{className:"author-name",children:Object(b.jsx)("span",{children:t})})}function O(e){var t=e.authors.map((function(e){return Object(b.jsx)(p,Object(j.a)({},e),e.id)}));return Object(b.jsx)("div",{className:"author-list",children:t})}function v(e){var t=Object(i.useContext)(C),n=t.handleRecipeDelete,c=t.handleRecipeSelect,a=e.id,r=e.name,s=e.cookTime,d=e.servings,l=e.instructions,u=e.ingredients,o=e.authors;return Object(b.jsxs)("div",{className:"recipe",children:[Object(b.jsxs)("div",{className:"recipe__header",children:[Object(b.jsx)("h3",{className:"recipe__title",children:r}),Object(b.jsxs)("div",{children:[Object(b.jsx)("button",{className:"btn btn--primary mr-1",onClick:function(){return c(a)},children:"Edit"}),Object(b.jsx)("button",{className:"btn btn--danger",onClick:function(){return n(a)},children:"Delete"})]})]}),Object(b.jsxs)("div",{className:"recipe__row",children:[Object(b.jsx)("span",{className:"recipe__label",children:"Cook Time: "}),Object(b.jsx)("span",{className:"recipe__value",children:s})]}),Object(b.jsxs)("div",{className:"recipe__row",children:[Object(b.jsx)("span",{className:"recipe__label",children:"Servings: "}),Object(b.jsx)("span",{className:"recipe__value",children:d})]}),Object(b.jsxs)("div",{className:"recipe__row",children:[Object(b.jsx)("span",{className:"recipe__label",children:"Instructions: "}),Object(b.jsx)("div",{className:"recipe__value recipe__value--instructions recipe__value--indented",children:l})]}),Object(b.jsxs)("div",{className:"recipe__row",children:[Object(b.jsx)("span",{className:"recipe__label",children:"Ingredients: "}),Object(b.jsx)("div",{className:"recipe__value recipe__value--indented",children:Object(b.jsx)(m,{ingredients:u})})]}),Object(b.jsxs)("div",{className:"recipe__row",children:[Object(b.jsx)("span",{className:"recipe__label",children:"Author(s): "}),Object(b.jsx)("div",{className:"recipe__value recipe__value--indented",children:Object(b.jsx)(O,{authors:o})})]})]})}function x(e){var t=e.searchQuery,n=e.setSearchQuery;return Object(b.jsxs)("form",{action:"/",method:"get",className:"recipe-list__search-bar-form",onSubmit:function(e){return e.preventDefault()},children:[Object(b.jsx)("label",{htmlFor:"recipe-search",children:Object(b.jsx)("span",{className:"visually-hidden",children:"Search for recipes"})}),Object(b.jsx)("input",{type:"text",value:t,id:"recipe-search",placeholder:"\ud83d\udd0d Search for recipes",name:"search",onChange:function(e){return n(e.target.value)},className:"recipe-list__search-bar"}),Object(b.jsx)("button",{type:"submit",className:"btn btn--primary",children:"Search"})]})}function f(e){var t=e.recipes,n=Object(i.useContext)(C).handleRecipeAdd,a=window.location.search,r=new URLSearchParams(a).get("search"),s=Object(i.useState)(r||""),l=Object(d.a)(s,2),u=l[0],o=l[1],h=function(e,t){if(!t)return e;return e.filter((function(e){return e.name.toLowerCase().includes(t)}))}(t,u);return Object(b.jsx)(c.a.Fragment,{children:Object(b.jsxs)("div",{className:"recipe-list",children:[Object(b.jsx)(x,{setSearchQuery:o,searchQuery:u}),Object(b.jsx)("div",{children:h.map((function(e){return Object(b.jsx)(v,Object(j.a)({},e),e.id)}))}),Object(b.jsx)("div",{className:"recipe-list__add-recipe-btn-container",children:Object(b.jsx)("button",{className:"btn btn--primary",onClick:n,children:"Add a recipe"})})]})})}function _(e){var t=e.ingredient,n=e.handleIngredientChange,i=e.handleIngredientsDelete;function a(e){n(t.id,Object(j.a)(Object(j.a)({},t),e))}return Object(b.jsxs)(c.a.Fragment,{children:[Object(b.jsx)("input",{type:"text",className:"recipe-edit__input",value:t.name,onChange:function(e){return a({name:e.target.value})}}),Object(b.jsx)("input",{type:"text",className:"recipe-edit__input",value:t.amount,onChange:function(e){return a({amount:e.target.value})}}),Object(b.jsx)("button",{className:"btn btn--danger",onClick:function(){return i(t.id)},children:"\xd7"})]})}function g(e){var t=e.handleAuthorChange,n=e.handleAuthorDelete,i=e.author;return Object(b.jsxs)(c.a.Fragment,{children:[Object(b.jsx)("input",{type:"text",className:"recipe-edit__input",value:i.name,onChange:function(e){return n={name:e.target.value},void t(i.id,Object(j.a)(Object(j.a)({},i),n));var n}}),Object(b.jsx)("button",{type:"submit",className:"btn btn--danger",onClick:function(e){return n(i.id)},children:" \xd7"})]})}function N(e){var t=e.recipe,n=Object(i.useContext)(C),c=n.handleRecipeChange,a=n.handleRecipeSelect;function r(e){c(t.id,Object(j.a)(Object(j.a)({},t),e))}function d(e,n){var i=Object(s.a)(t.ingredients),c=i.findIndex((function(t){return t.id===e}));i[c]=n,r({ingredients:i})}function u(e,n){var i=Object(s.a)(t.authors),c=i.findIndex((function(t){return t.id===e}));i[c]=n,r({authors:i})}function o(e){r({ingredients:t.ingredients.filter((function(t){return t.id!==e}))})}function h(e){r({authors:t.authors.filter((function(t){return t.id!==e}))})}return Object(b.jsxs)("div",{className:"recipe-edit",children:[Object(b.jsx)("div",{className:"recipe-edit__remove-button-container",children:Object(b.jsx)("button",{className:"btn recipe-edit__remove-button",onClick:function(){return a(void 0)},children:"\xd7"})}),Object(b.jsxs)("div",{className:"recipe-edit__details-grid",children:[Object(b.jsx)("label",{className:"recipe-edit__label",htmlFor:"name",children:"Name"}),Object(b.jsx)("input",{type:"text",name:"name",id:"name",className:"recipe-edit__input",value:t.name,onChange:function(e){return r({name:e.target.value})}}),Object(b.jsx)("label",{htmlFor:"cookTime",className:"recipe-edit__label",children:"Cooking time"}),Object(b.jsx)("input",{type:"text",name:"cookTime",id:"cookTime",className:"recipe-edit__input",value:t.cookTime,onChange:function(e){return r({cookTime:e.target.value})}}),Object(b.jsx)("label",{htmlFor:"servings",className:"recipe-edit__label",children:"Servings"}),Object(b.jsx)("input",{type:"number",name:"servings",id:"servings",min:"1",className:"recipe-edit__input",value:t.servings,onChange:function(e){return r({servings:Number(e.target.value)||""})}}),Object(b.jsx)("label",{htmlFor:"instructions",className:"recipe-edit__label",children:"Instructions"}),Object(b.jsx)("textarea",{type:"text",name:"instructions",id:"instructions",className:"recipe-edit__input",value:t.instructions,onChange:function(e){return r({instructions:e.target.value})}})]}),Object(b.jsx)("br",{}),Object(b.jsx)("label",{className:"recipe-edit__label",children:"Ingredients"}),Object(b.jsxs)("div",{className:"recipe-edit__ingredient-grid",children:[Object(b.jsx)("div",{children:"Name"}),Object(b.jsx)("div",{children:"Amount"}),Object(b.jsx)("div",{}),t.ingredients.map((function(e){return Object(b.jsx)(_,{ingredient:e,handleIngredientChange:d,handleIngredientsDelete:o},e.id)}))]}),Object(b.jsx)("div",{className:"recipe-edit__add-ingredients-btn-container",children:Object(b.jsx)("button",{className:"btn btn--primary",onClick:function(){return function(){var e={id:Object(l.a)(),name:"",amount:""};r({ingredients:[].concat(Object(s.a)(t.ingredients),[e])})}()},children:"Add ingredients"})}),Object(b.jsx)("br",{}),Object(b.jsx)("label",{className:"recipe-edit__label",children:"Author(s)"}),Object(b.jsxs)("div",{className:"recipe-edit__author-grid",children:[Object(b.jsx)("div",{children:"Name"}),Object(b.jsx)("div",{}),t.authors.map((function(e){return Object(b.jsx)(g,{author:e,handleAuthorChange:u,handleAuthorDelete:h},e.id)}))]}),Object(b.jsx)("div",{className:"recipe-edit__add-ingredients-btn-container",children:Object(b.jsx)("button",{className:"btn btn--primary",onClick:function(){return function(){var e={id:Object(l.a)(),name:""};r({authors:[].concat(Object(s.a)(t.authors),[e])})}()},children:"Add Author"})})]})}n(30);var C=c.a.createContext(),k="cookingWithReact.App[recipes]";function y(){var e=Object(i.useState)(S),t=Object(d.a)(e,2),n=t[0],c=t[1],a=Object(i.useState)(),r=Object(d.a)(a,2),u=r[0],j=r[1],h=n.find((function(e){return e.id===u})),m={handleRecipeAdd:function(){var e={id:Object(l.a)(),name:"",cookTime:"",servings:1,instructions:"",ingredients:[{id:Object(l.a)(),name:"",amount:""}],authors:[{id:Object(l.a)(),name:""}]};j(e.id),c([].concat(Object(s.a)(n),[e]))},handleRecipeDelete:function(e){null!=u&&u===e&&j(null);c(n.filter((function(t){return t.id!==e})))},handleRecipeSelect:function(e){j(e)},handleRecipeChange:function(e,t){var i=Object(s.a)(n),a=i.findIndex((function(t){return t.id===e}));i[a]=t,c(i)}};return Object(i.useEffect)((function(){o.database().ref("recipes").on("value",(function(e){e.val()&&c(e.val())}))}),[]),Object(i.useEffect)((function(){o.database().ref("recipes").set(n),o.database().ref("recipes").update(n)}),[n]),Object(i.useEffect)((function(){var e=localStorage.getItem(k);null===e?alert("no data in local storage"):c(JSON.parse(e))}),[]),Object(i.useEffect)((function(){localStorage.setItem(k,JSON.stringify(n))}),[n]),Object(b.jsx)("div",{className:"background",children:Object(b.jsxs)(C.Provider,{value:m,children:[Object(b.jsx)(f,{recipes:n}),h&&Object(b.jsx)(N,{recipe:h})]})})}var S=[{id:Object(l.a)(),name:"Plain Chiken",cookTime:"1:45",servings:"3",instructions:"1.Put salt on chicken \n 2.Put chicken inside the oven \n3.Garnish with greens and serve",ingredients:[{id:Object(l.a)(),name:"Chicken",amount:"2 pounds"},{id:Object(l.a)(),name:"Salt",amount:"1 tsp"}],authors:[{id:Object(l.a)(),name:"Chef Robert"}]},{id:Object(l.a)(),name:"Pork Chop",cookTime:"2:45",servings:"2",instructions:"1.Put salt on pork \n 2.Put put inside the oven \n 3.Garnish with greens and serve",ingredients:[{id:Object(l.a)(),name:"Pork",amount:"3 pounds"},{id:Object(l.a)(),name:"Paprika",amount:"1 tsp"}],authors:[{id:Object(l.a)(),name:"Chef John"}]}];r.a.render(Object(b.jsx)(y,{}),document.getElementById("root"))}},[[31,1,2]]]);
//# sourceMappingURL=main.ed7236a0.chunk.js.map